<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset='utf-8'>
	<title>Project.</title>

	<link rel='stylesheet' href='./public/style.css'>
	<link href="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.css" rel="stylesheet">
	<script defer src='./public/build/bundle.js'></script>
	<script src="https://d3js.org/d3.v6.js" charset="utf-8"></script>
	<script src="https://api.mapbox.com/mapbox-gl-js/v2.13.0/mapbox-gl.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>

        body,html {
            margin:0;
            padding:0;
        }   

        body {
            /* display: flex;
            flex-direction: column;
            align-items: center; */
            background-color: #FFF4E2;
            background-size: cover;
            position: relative;
            height:  100vh;
            padding-top: 10%;
        }

        #back {
            display: flex;
            justify-content: space-evenly;
            width: 100%;
        }

        iframe {
            display: "block";
            width: 1500px; /* Adjust this value to change the iframe width */
            height: 520px; /* Adjust this value to change the iframe height */
            border: none;
            margin-bottom: 20px; /* Add some space between iframes */
        }

        * {
            box-sizing: border-box;
        }


        header {
            background-size: cover;
            position: absolute;
            top: 0;
            background-color: #07393C;
            height:  10%;
            width: 100%;
            
        }

        #forward2 {
            position: absolute;
            bottom: 0;
            left: 0;
            background-color: #FFF4E2;
            height:  0%;
            width: 100%;
            transition: height 2s;
            color: white;
            z-index: 10;
        }

    
        a {
            left: 10px;
            top: 110px;
            height: fit-content;
            position: absolute;
            display: inline-block;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            font-size: 16px;
            font-weight: bold;
            text-align: center;
            text-decoration: none;
            cursor: pointer;
            transition: background-color 0.3s ease;
            background-color: #2C666E;
            color: white;
        }

        a:hover {
            background-color: #1E464D;
        }

        /* #back a {
            margin: 1rem 1rem 0 0;
            background-color: rgb(202, 202, 202);
            border-radius: 5px;
            color: rgb(66, 66, 66) !important;
            display: inline-block;
            padding: 0.1rem 1rem;
            text-decoration: none;
            transition: 0.4s;
        }

        #back a:hover {
            color: white !important;
            background-color: rgb(66, 66, 66);
            box-shadow: 0px 5px 5px 1px rgba(0, 0, 0, 0.2);
        } */


        .question {
            font-size: 2vw;
            margin-left: 20px;
        }

        #frameSec {
            display: flex;
            justify-content: space-evenly;
            width: 100%;
        }

        #frameSec {
            display: flex;
            justify-content: space-evenly;
            width: 100%;
        }


        /* Base button styles */
        .nxtBtn {
            border-radius: 4px;
            cursor: pointer;
            transform: rotate(90deg);
            width: 200px;
            height: 70px;
            margin-top: 10%;
        }

        /* Default button style */
 
        /* Hover effect */
        .nxtBtn:hover{
        background-color: #938b7e;
        }

        .prevBtn {
            border-radius: 4px;
            cursor: pointer;
            transform: rotate(270deg);
            width: 90px;
            height: 70px;
            margin-top: 10%;
            display: none;
            margin-right: 10%;
        }

        .prevBtn:hover{
        background-color: #938b7e;
        }

        /* Disabled button style
        button:disabled {
        background-color: #CCCCCC;
        color: #666666;
        cursor: not-allowed;
        } */



		#map {
			height: 50vh;
			margin-top: 40vh;
			/* margin-right: 50vw; */
			width: 50vw;
		}

        #map {
			height: 50vh;
			margin-top: 35vh;
			margin-left: 20vw;
			/* width: 50vw; */
            left: 300px;
		}

        #mapContainer {
            margin-right: 70vw;
        }
        
        #forward {
            position: absolute;
            bottom: 0;
            background-color: #2C666E;
            height:  9%;
            width: 100%;
            font-size: 24px;
            transition: height 2s;
            color: white;
            /* padding-top: 5%; */
            z-index: 2;
        }

        #swipeUp {
            margin-left: 45%;
            margin-top: 1%;
        }

        #title {
            font-size: 4.5vw;
        }

        #forward2 {
            position: absolute;
            bottom: 0;
            left: 0;
            background-color: #FFF4E2;
            height:  0%;
            width: 100%;
            transition: height 2s;
            color: white;
        }


        #hiddenTab {
            justify-content: space-evenly;            
            padding-top: 5vh;
            padding: 10%;
        }

        #toolTip {
            position: absolute;
            top: 450px;
            left: 650px; /* Adjust the value as needed */
            width: 300px; /* Adjust the width as needed */
            /* z-index: 999; */
        }

        /* Additional CSS styles for the appended divs in mapInfo */
        #toolTip div {
            margin-top: 10px; /* Add margin between the appended divs */
        }

        #mapInfo p {
            /* background-color: #2C666E;
            color: white;
            padding: 20px;
            border-radius: 5px;*/
            font-weight: bold;
            width: 140%;
            margin-top: 10%;
            margin-left: 10%;
            font-family: 'Courier New', monospace;
        }
    </style>
    <script>

    function next() {
        const nxtBtn = document.getElementById("nxtBtn");
        const prevBtn = document.getElementById("prevBtn");

        const map = document.getElementById("mapContainer");
        const nxtFrame = document.getElementById("iFrame2");

        map.style.display="none";
        nxtFrame.style.display="block";

        nxtBtn.style.display="none";
        prevBtn.style.display="block";
    }

    function before() {
        const nxtBtn = document.getElementById("nxtBtn");
        const prevBtn = document.getElementById("prevBtn");

        const frame = document.getElementById("iFrame2");
        const map = document.getElementById("mapContainer");

        frame.style.display = "none";
        map.style.display="block";

        nxtBtn.style.display="block";
        prevBtn.style.display="none";
    }


    function upwards() {
        const transform = document.getElementById("forward");
        const content = document.getElementById("hiddenTab");
        const swipe = document.getElementById("swipeUp");
        

        console.log(transform.style.height);

        transform.style.height = "90vh";
        content.style.display = "block"
        swipe.style.display = "none"

        setTimeout(function() {
            const transform2 = document.getElementById("forward2");
            transform2.style.height = "90vh";
            setTimeout(function() {
                location.href = "./public/fourth.html";
            }, 2000)
        }, 8000)
    

        //transition: margin-left 2s;
    }
     </script>
</head>
<body>

    <header>
        
    </header>

    <main>
        <section id="back">

            <p class="question"> How many migration attempts does it take to reach the US? </p>

            <a href="./public/second.html"> <-- Back </a>

        </section> 

        <section id="content">

            <article>
                <div id="frameSec">
                    <div id="mapContainer">
                        <div id="map" ></div>
                        <div id="toolTip"></div>
                        <div id="mapInfo">
                            <p>
                                Migration from Central America to the US is often a complex and arduous process, 
                                and individuals often attempt this emotionally and financially draining process 
                                multiple times before succeeding.
                                <br><br>
                                The fact that so many are willing to take the risk and try multiple times 
                                speaks to the desperation and determination of those seeking a better life.
                                <br><br>
                                Explore the map on the left to see how many times on average individuals from Central America 
                                will attempt migration before either reaching the US, or stop trying. Hover over the paths to see.
                            </p>
                        </div>
                    </div>
                    <!-- <img src="./src/media/swipeUpBlack.png" class="nxtBtn" id="nxtBtn" onclick="next()"> -->
                    <!-- <button class="prevBtn" id="prevBtn" onclick="before()">Previous</button> -->
                    <img src="./src/media/swipeUpBlack.png" class="nxtBtn" id="nxtBtn" onclick="next()">
                    <img src="./src/media/swipeUpBlack.png" class="prevBtn" id="prevBtn" onclick="before()">
                    <iframe class="iFrame" id="iFrame2" src="./public/attempts_charts.html" style="display:none"></iframe>
                </div>
            </article>
        </section>
        <article id="forward" onclick="upwards()">

            <img id="swipeUp" src="../src/media/swipeUp.png" width="70" height="30">
    
            <div id="hiddenTab" style="display:none">
                <p id="title"> Deep Dive into Migrant Profiles </p>
                <p>Now that we understand the differences between migrant and non-migrant households, let's see how their different financial profiles impact aspects of their lifes and experiences. First, let's explore how income relates to migration attempts.</p>
            </div>
            <article id="forward2"></article>
         </article> 
    </main>
</body>
</html>
